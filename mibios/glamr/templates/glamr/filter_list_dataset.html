{% load glamr_extras %}
<ul class="m-2">
{% for item in object_list %}
    <li class="card mb-2">
        <div style="display: flex; flex-direction: row" class="card-header">
            <h5 class="m-1"><a href="{% url 'dataset' pk=item.pk %}">{{ item }}</a></h5>
        </div>
        <div class="card-body">
            <table class="table table-hover table-condensed table-sm"><tbody>
                <tr>
                    <td>Reference:</td>
                    {% if item.reference_id %}
                        <td><a href="{% url 'reference' pk=item.reference_id %}">{{ item.reference }}</a></td>
                    {% else %}
                        <td><i>No reference associated with this dataset</i></td>
                    {% endif %}
                </tr>
                <tr>
                    <td>Description:</td>
                    {% if item.scheme %}
                        <td>{{ item.scheme|capfirst }}</td>
                    {% else %}
                        <td><i>No description available</i></td>
                    {% endif %}
                </tr>
                <tr>
                    <td>Water Bodies:</td>
                    <td>{{ item.water_bodies }}</td>
                </tr>
                <tr>
                    <td>Material Type:</td>
                    {% if item.material_type %}
                        <td>{{ item.material_type|capfirstkeep }}</td>
                    {% else %}
                        <td>-</td>
                    {% endif %}
                </tr>
                {% if item.primers %}
                    <tr>
                        <td>Primers:</td>
                        <td>{{ item.primers }}</td>
                    </tr>
                {% endif %}
                {% if item.sequencing_target %}
                    <tr>
                        <td>Sequencing Target:</td>
                        <td>{{ item.sequencing_target }}</td>
                    </tr>
                {% endif %}
                {% if item.sequencing_platform %}
                    <tr>
                        <td>Sequencing Platform:</td>
                        <td>{{ item.sequencing_platform }}</td>
                    </tr>
                {% endif %}
                {% if item.size_fraction %}
                    <tr>
                        <td>Size Fraction:</td>
                        <td>{{ item.size_fraction }}</td>
                    </tr>
                {% endif %}
                {% if item.note %}
                    <tr>
                        <td>Notes:</td>
                        <td>{{ item.note }}</td>
                    </tr>
                {% endif %}
                {% if item.external_urls %}
                    <tr>
                        <td>External URLs:</td>
                        <td>
                            {% for name, url in item.external_urls %}
                                {% if url %}
                                    <a href={{url}}>{{name}}</a>
                                {% else %}
                                   <span class="mr-1">{{name}}</span>
                                {% endif %}
                            {% endfor %}

                        </td>
                    </tr>
                {% endif %}
            </tbody></table>
        </div> 
    </li>
{% endfor %}
</ul>
